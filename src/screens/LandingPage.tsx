import {
  Button,
  Flex,
  PasswordInput,
  TextInput,
  Title,
  Text,
  NavLink,
} from "@mantine/core";
import React, { useState } from "react";
import { useNavigate } from "react-router-dom";

export default function LandingPage(props: any) {
  const [invalidUser, setInvalidUser] = useState("");
  const [invalidPassword, setInvalidPassword] = useState("");
  const [userName, setUserName] = useState("");
  const [userPassword, setuserPassword] = useState("");
  const navigate = useNavigate();

  function checkLogin(name: string, password: string) {
    if (
      name === process.env.REACT_APP_USER_NAME &&
      password === process.env.REACT_APP_USER_PASSWORD
    ) {
      setInvalidUser("");
      setInvalidPassword("");
      props.setLoggedIn(true);
      navigate("/main");
    }

    setInvalidUser("Invalid User Name");
    setInvalidPassword("Invalid Password");
  }

  return (
    <>
      <Flex
        style={{
          width: "50%",
          minHeight: "50%",
          margin: "0% 25%",
          border: "solid",
          borderColor: "#BCCBC9",
        }}
        direction="column"
      >
        <Title
          style={{ margin: "5% 0%", alignSelf: "center", color: "#545B5A" }}
        >
          Twitter v2 API PenTest Utils
        </Title>
        <br />
        <br />
        <TextInput
          label="Username"
          value={userName}
          onChange={(e) => setUserName(e.currentTarget.value)}
          error={invalidUser}
          required
          style={{
            width: "50%",
            alignSelf: "center",
            margin: "0px 20px",
            color: "#545B5A",
          }}
        />
        <PasswordInput
          label="Password"
          value={userPassword}
          onChange={(e) => setuserPassword(e.currentTarget.value)}
          error={invalidPassword}
          required
          style={{
            width: "50%",
            alignSelf: "center",
            margin: "0px 20px",
            color: "#545B5A",
          }}
        />
        <Flex direction="column" align="center">
          <br />
          <Button
            onClick={() => checkLogin(userName, userPassword)}
            style={{
              width: "12em",
              margin: "0px 20px",
              color: "#545B5A",
              background: "#C0DFD9",
            }}
          >
            Login
          </Button>
        </Flex>
      </Flex>
    </>
  );
}
